[{"C:\\Users\\HP\\Desktop\\stack_hack_2.O\\frontend\\src\\index.js":"1","C:\\Users\\HP\\Desktop\\stack_hack_2.O\\frontend\\src\\App.js":"2","C:\\Users\\HP\\Desktop\\stack_hack_2.O\\frontend\\src\\utils\\setAuthToken.js":"3","C:\\Users\\HP\\Desktop\\stack_hack_2.O\\frontend\\src\\components\\Navbar.js":"4","C:\\Users\\HP\\Desktop\\stack_hack_2.O\\frontend\\src\\components\\AddEmploye.js":"5","C:\\Users\\HP\\Desktop\\stack_hack_2.O\\frontend\\src\\components\\Employee.js":"6","C:\\Users\\HP\\Desktop\\stack_hack_2.O\\frontend\\src\\components\\Home.js":"7","C:\\Users\\HP\\Desktop\\stack_hack_2.O\\frontend\\src\\components\\Admin.js":"8","C:\\Users\\HP\\Desktop\\stack_hack_2.O\\frontend\\src\\context\\auth\\AuthState.js":"9","C:\\Users\\HP\\Desktop\\stack_hack_2.O\\frontend\\src\\context\\auth\\authContext.js":"10","C:\\Users\\HP\\Desktop\\stack_hack_2.O\\frontend\\src\\context\\auth\\authReducer.js":"11","C:\\Users\\HP\\Desktop\\stack_hack_2.O\\frontend\\src\\context\\types.js":"12","C:\\Users\\HP\\Desktop\\stack_hack_2.O\\frontend\\src\\components\\PrivateRoute.js":"13","C:\\Users\\HP\\Desktop\\stack_hack_2.O\\frontend\\src\\authHelpers\\index.js":"14","C:\\Users\\HP\\Desktop\\stack_hack_2.O\\frontend\\src\\components\\AdminPrivateRoute.js":"15","C:\\Users\\HP\\Desktop\\stack_hack_2.O\\frontend\\src\\components\\Spinner.js":"16","C:\\Users\\HP\\Desktop\\stack_hack_2.O\\frontend\\src\\components\\GetEmployee.js":"17","C:\\Users\\HP\\Desktop\\stack_hack_2.O\\frontend\\src\\components\\AddLeave.js":"18","C:\\Users\\HP\\Desktop\\stack_hack_2.O\\frontend\\src\\components\\MyLeaves.js":"19","C:\\Users\\HP\\Desktop\\stack_hack_2.O\\frontend\\src\\components\\PendingLeaves.js":"20","C:\\Users\\HP\\Desktop\\stack_hack_2.O\\frontend\\src\\components\\GetLeave.js":"21"},{"size":221,"mtime":1609578875259,"results":"22","hashOfConfig":"23"},{"size":1713,"mtime":1610180036192,"results":"24","hashOfConfig":"23"},{"size":249,"mtime":1609759131327,"results":"25","hashOfConfig":"23"},{"size":2902,"mtime":1610176736005,"results":"26","hashOfConfig":"23"},{"size":9600,"mtime":1610035963616,"results":"27","hashOfConfig":"23"},{"size":8264,"mtime":1610176306524,"results":"28","hashOfConfig":"23"},{"size":11798,"mtime":1610174783522,"results":"29","hashOfConfig":"23"},{"size":4050,"mtime":1610099856408,"results":"30","hashOfConfig":"23"},{"size":2748,"mtime":1609914222436,"results":"31","hashOfConfig":"23"},{"size":111,"mtime":1609759131322,"results":"32","hashOfConfig":"23"},{"size":1027,"mtime":1609846462892,"results":"33","hashOfConfig":"23"},{"size":397,"mtime":1609759131325,"results":"34","hashOfConfig":"23"},{"size":825,"mtime":1610007010556,"results":"35","hashOfConfig":"23"},{"size":997,"mtime":1610005439417,"results":"36","hashOfConfig":"23"},{"size":802,"mtime":1610170032472,"results":"37","hashOfConfig":"23"},{"size":254,"mtime":1610029137026,"results":"38","hashOfConfig":"23"},{"size":4661,"mtime":1610035770034,"results":"39","hashOfConfig":"23"},{"size":5540,"mtime":1610124969710,"results":"40","hashOfConfig":"23"},{"size":3583,"mtime":1610169597105,"results":"41","hashOfConfig":"23"},{"size":9545,"mtime":1610193212152,"results":"42","hashOfConfig":"23"},{"size":1760,"mtime":1610186040948,"results":"43","hashOfConfig":"23"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"15vhriy",{"filePath":"47","messages":"48","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"46"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54","usedDeprecatedRules":"46"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59","usedDeprecatedRules":"46"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62","usedDeprecatedRules":"46"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65","usedDeprecatedRules":"46"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68","usedDeprecatedRules":"46"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73","usedDeprecatedRules":"46"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"78","usedDeprecatedRules":"46"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"83","usedDeprecatedRules":"46"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"92","usedDeprecatedRules":"46"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\HP\\Desktop\\stack_hack_2.O\\frontend\\src\\index.js",[],["97","98"],"C:\\Users\\HP\\Desktop\\stack_hack_2.O\\frontend\\src\\App.js",["99","100","101"],"import \"./App.css\";\r\nimport Home from \"./components/Home\";\r\nimport Navbar from \"./components/Navbar\";\r\nimport AuthState from \"./context/auth/AuthState\";\r\nimport Admin from \"./components/Admin\";\r\nimport { BrowserRouter, Redirect, Route, Switch } from \"react-router-dom\";\r\nimport setAuthToken from \"./utils/setAuthToken\";\r\nimport AddEmploye from \"./components/AddEmploye\";\r\nimport Employee from \"./components/Employee\";\r\nimport PrivateRoute from \"./components/PrivateRoute\";\r\nimport AdminPrivateRoute from \"./components/AdminPrivateRoute\";\r\nimport { isadmin_true } from \"./authHelpers\";\r\nimport GetEmployee from \"./components/GetEmployee\"\r\nimport AddLeave from \"./components/AddLeave\";\r\nimport MyLeaves from \"./components/MyLeaves\";\r\nimport PendingLeaves from \"./components/PendingLeaves\";\r\nimport GetLeave from \"./components/GetLeave\";\r\n\r\n\r\n\r\nconst App = () => {\r\n  return (\r\n    <AuthState>\r\n      <BrowserRouter>\r\n        <Navbar />\r\n        <Switch>\r\n          <Route exact path=\"/\" component={Home} />\r\n          <AdminPrivateRoute exact path=\"/admin\" component={Admin} />\r\n          <AdminPrivateRoute exact path=\"/add\" component={AddEmploye} />\r\n          <AdminPrivateRoute exact path=\"/getEmployee\" component={GetEmployee} />\r\n          <PrivateRoute exact path=\"/employee\" component={Employee} />\r\n          <PrivateRoute exact path=\"/apply_leave\" component={AddLeave} />\r\n          <PrivateRoute exact path=\"/my_leaves\" component={MyLeaves} />\r\n          <AdminPrivateRoute exact path=\"/pending_leaves\" component={PendingLeaves} />\r\n          <AdminPrivateRoute exact path=\"/getLeave\" component={GetLeave} />\r\n        </Switch>\r\n      </BrowserRouter>\r\n    </AuthState>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","C:\\Users\\HP\\Desktop\\stack_hack_2.O\\frontend\\src\\utils\\setAuthToken.js",[],"C:\\Users\\HP\\Desktop\\stack_hack_2.O\\frontend\\src\\components\\Navbar.js",["102"],"import React, { useEffect } from \"react\";\r\nimport image2 from \"../assets/image2.png\";\r\nimport { Link,withRouter } from \"react-router-dom\";\r\nimport { isadmin_true, isAuthenticated_true,logout } from \"../authHelpers\";\r\n\r\nconst Navbar = () => {\r\n  \r\n  return (\r\n    <div>\r\n      <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n        <div className=\"container-fluid\">\r\n          <Link to={isadmin_true()?\"/admin\":isAuthenticated_true()?\"/employee\":\"/\"} className=\"navbar-brand\" href=\"#\">\r\n            <img src={image2} alt=\"Logo\" height=\"50px\" />\r\n          </Link>\r\n          <button\r\n            className=\"navbar-toggler\"\r\n            type=\"button\"\r\n            data-bs-toggle=\"collapse\"\r\n            data-bs-target=\"#navbarText\"\r\n            aria-controls=\"navbarText\"\r\n            aria-expanded=\"false\"\r\n            aria-label=\"Toggle navigation\"\r\n          >\r\n            <span className=\"navbar-toggler-icon\"></span>\r\n          </button>\r\n          <div className=\"collapse navbar-collapse\" id=\"navbarText\">\r\n            <ul className=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n              <li className=\"nav-item\">\r\n                <Link to={isadmin_true()?\"/admin\":isAuthenticated_true()?\"/employee\":\"/\"} className=\"nav-link active\" aria-current=\"page\">\r\n                  <h1 className=\"logo_heading\">HR Management</h1>\r\n                </Link>\r\n              </li>\r\n            </ul>\r\n            {\r\n              isadmin_true() && (\r\n                <ul className=\"navbar-nav\">\r\n                  <li>\r\n                    <Link to=\"/pending_leaves\" className=\"nav-link\">\r\n                      Leave Management\r\n                    </Link>\r\n                  </li>\r\n                  <li>\r\n                    <Link to=\"/add\" className=\"nav-link\">\r\n                      Add Employee\r\n                    </Link>\r\n                  </li>\r\n                  <li>\r\n                    <Link onClick={logout} className=\"nav-link\">\r\n                      Logout\r\n                    </Link>\r\n                  </li>\r\n              </ul>\r\n              )\r\n            }\r\n             {\r\n              (isAuthenticated_true()&&!isadmin_true()) && (\r\n                <ul className=\"navbar-nav\">\r\n                  <li>\r\n                    <Link to=\"/my_leaves\" className=\"nav-link\">\r\n                      My Leaves\r\n                    </Link>\r\n                  </li>\r\n                  <li>\r\n                    <Link to=\"/apply_leave\" className=\"nav-link\">\r\n                      Apply Leave\r\n                    </Link>\r\n                  </li>\r\n                  <li>\r\n                    <Link onClick={logout} className=\"nav-link\">\r\n                      Logout\r\n                    </Link>\r\n                  </li>\r\n              </ul>\r\n              )\r\n            }\r\n          </div>\r\n        </div>\r\n      </nav>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default  withRouter(Navbar);\r\n","C:\\Users\\HP\\Desktop\\stack_hack_2.O\\frontend\\src\\components\\AddEmploye.js",[],"C:\\Users\\HP\\Desktop\\stack_hack_2.O\\frontend\\src\\components\\Employee.js",["103","104","105","106"],"import React, { useContext, useEffect, useState } from \"react\";\r\nimport AuthContext from \"../context/auth/authContext\";\r\n\r\nconst Employee = () => {\r\n  const authContext = useContext(AuthContext);\r\n\r\n  const { loaduser, isAuthenticated } = authContext;\r\n  \r\n  const [employee,setEmployee] = useState({error:\"\",loading:false,user:null});\r\n  const [changePasswords,setChangePasswords] = useState({\r\n    old_password:\"\",\r\n    new_password:\"\",\r\n    confirm_password:\"\",\r\n    error2:\"\",\r\n    success:\"\"\r\n  })\r\n  const {old_password,new_password,confirm_password,error2,success} =changePasswords\r\n\r\n  const changeHandler = (e)=>{\r\n    setChangePasswords({...changePasswords,[e.target.name]:e.target.value})\r\n  }\r\n  const {error,loading,user}=employee;\r\n\r\n  const changingPasswords = (input_fields)=>{\r\n    let token = JSON.parse(localStorage.getItem(\"token2\")).token;\r\n    let userId = JSON.parse(localStorage.getItem(\"token2\")).userId;\r\n    return fetch(`http://localhost:5000/api/admin/change/${userId}`,{\r\n      method:\"POST\",\r\n      headers:{\r\n        \"Content-Type\":\"application/json\",\r\n        \"Authorization\":token\r\n      },\r\n      body:JSON.stringify(input_fields)\r\n    }).then((res)=>{\r\n      return res.json()\r\n    }).catch((err)=>{\r\n      console.log(err)\r\n    })\r\n  }\r\n\r\n  const submitHandler =(e)=>{\r\n    e.preventDefault();\r\n    const input_data={\r\n      old_password,\r\n      new_password,\r\n      confirm_password\r\n    }\r\n    //console.log(input_data)\r\n    changingPasswords(input_data).then((data)=>{\r\n      if(data.err){\r\n        setChangePasswords({...changePasswords,error2:data.err})\r\n      }else{\r\n        //console.log(data);\r\n        setChangePasswords({\r\n          ...changePasswords,\r\n          error2:\"\",\r\n          success:data.msg\r\n        })\r\n      }\r\n    })\r\n    setChangePasswords({\r\n      old_password:\"\",\r\n      new_password:\"\",\r\n      confirm_password:\"\",\r\n      error2:\"\",\r\n      success:\"\"\r\n    })\r\n  }\r\n\r\n\r\n  const getEmployee = (id) =>{\r\n    let token =JSON.parse(localStorage.getItem(\"token2\")).token;\r\n    return fetch(`http://localhost:5000/api/admin/${id}`,{\r\n      method:\"GET\",\r\n      headers:{\r\n        \"Authorization\":token\r\n      }\r\n    }).then((res)=>{\r\n      return res.json()\r\n    }).catch((err)=>{\r\n      console.log(err)\r\n    })\r\n  }\r\n\r\n  const errorMessage = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div\r\n          className=\"alert alert-danger\"\r\n          style={{ display: error2 ? \"\" : \"none\" }}\r\n        >\r\n          {error2}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  const successMessage = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div\r\n          className=\"alert alert-success\"\r\n          style={{ display: success ? \"\" : \"none\" }}\r\n        >\r\n          {success}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  let userId=JSON.parse(localStorage.getItem(\"token2\")).userId;\r\n\r\n  useEffect(() => {\r\n    getEmployee(userId).then((data)=>{\r\n      if(data.err){\r\n       setEmployee({\r\n        ...employee,\r\n        error:data.err,\r\n        loading:true\r\n       })\r\n      }else{\r\n        //console.log(data)\r\n        setEmployee({\r\n          ...employee,\r\n          user:data,\r\n          loading:true\r\n        })\r\n      }\r\n    })\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      {(user&&loading)?(\r\n        <div className=\"container mt-4\">\r\n        <div className=\"row\">\r\n            <div className=\"col-12 col-md-4 mt-4\">\r\n                <div className=\"card text-center shadow p-4\">\r\n                    <img src={user.photo} alt={user.username} style={{borderRadius:\"50%\"}} />\r\n                    <h2 className=\"mt-3\">{user.username}</h2>\r\n                    <h3>{user.role}</h3>\r\n                    <h3>{user.address}</h3>\r\n                </div>\r\n                <div className=\"card mt-5 shadow p-4\">\r\n                  {errorMessage()}\r\n                  {successMessage()}\r\n                    <form className=\"form-group\" onSubmit={submitHandler}>\r\n                        <label className=\"form-label\"><h5>Change your password</h5></label>\r\n                        <input type=\"text\" placeholder=\"Old Password\" name=\"old_password\" value={old_password} onChange={changeHandler} className=\"form-control mb-2\" />\r\n                        <input type=\"password\" placeholder=\"New Password\" name=\"new_password\" value={new_password} onChange={changeHandler} className=\"form-control mb-2\" />\r\n                        <input type=\"text\" placeholder=\"Confirm Password\" name=\"confirm_password\" value={confirm_password} onChange={changeHandler} className=\"form-control mb-3\" />\r\n                        <button className=\"btn w-100 btn-success\">Change Password</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n            <div className=\"col-12 col-md-8 mt-4\">\r\n                <div className=\"card shadow p-3\">\r\n                    <div className=\"col-12\">\r\n                        <h5>Employee ID: <span style={{color:\"gray\"}}>{user.employeid}</span></h5>\r\n                        <hr />\r\n                    </div>\r\n                    <div className=\"col-12\">\r\n                        <h5>Firstname: <span style={{color:\"gray\"}}>{user.firstname}</span></h5>\r\n                        <hr />\r\n                    </div>\r\n                    <div className=\"col-12\">\r\n                        <h5>Lastname: <span style={{color:\"gray\"}}>{user.lastname}</span></h5>\r\n                        <hr />\r\n                    </div>\r\n                    <div className=\"col-12\">\r\n                        <h5>Email: <span style={{color:\"gray\"}}>{user.email}</span></h5>\r\n                        <hr />\r\n                    </div>\r\n                    <div className=\"col-12\">\r\n                        <h5>Phone: <span style={{color:\"gray\"}}>{user.contactnumber}</span></h5>\r\n                        <hr />\r\n                    </div>\r\n                    <div className=\"col-12\">\r\n                        <h5>Date of Birth: <span style={{color:\"gray\"}}>{user.dateofbirth}</span></h5>\r\n                        <hr />\r\n                    </div>\r\n                    <div className=\"col-12\">\r\n                        <h5>Address: <span style={{color:\"gray\"}}>{user.address}</span></h5>\r\n                        <hr />\r\n                    </div>\r\n                    <div className=\"col-12\">\r\n                        <h5>Department: <span style={{color:\"gray\"}}>{user.department}</span></h5>\r\n                        <hr />\r\n                    </div>\r\n                    <div className=\"col-12\">\r\n                        <h5>Role: <span style={{color:\"gray\"}}>{user.role}</span></h5>\r\n                        <hr />\r\n                    </div>\r\n                    <div className=\"col-12\">\r\n                        <h5>Salary: <span style={{color:\"gray\"}}>{user.salary}</span></h5>\r\n                        <hr />\r\n                    </div>\r\n                    <div className=\"col-12\">\r\n                        <h5>Joining Date: <span style={{color:\"gray\"}}>{user.joiningdate}</span></h5>\r\n                        <hr />\r\n                    </div>\r\n                    <div className=\"col-12\">\r\n                        <h5>Gender: <span style={{color:\"gray\"}}>{user.gender}</span></h5>\r\n                        <hr />\r\n                    </div>\r\n                    <div className=\"col-12\">\r\n                        <h5>Maritial Status: <span style={{color:\"gray\"}}>{user.maritialstatus}</span></h5>\r\n                        <hr />\r\n                    </div>\r\n                    <div className=\"col-12\">\r\n                        <h5>Nationality: <span style={{color:\"gray\"}}>{user.nationality}</span></h5>\r\n                        <hr />\r\n                    </div>\r\n                    <div className=\"col-12\">\r\n                        <h5>Blood Group: <span style={{color:\"gray\"}}>{user.bloodgroup}</span></h5>\r\n                        <hr />\r\n                    </div>\r\n                    <div className=\"col-12\">\r\n                        <h5>Work Type: <span style={{color:\"gray\"}}>{user.worktype}</span></h5>\r\n                        <hr />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n      ):(\r\n        <p>Loading...</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Employee;\r\n","C:\\Users\\HP\\Desktop\\stack_hack_2.O\\frontend\\src\\components\\Home.js",["107","108","109","110","111","112","113"],"import React, { useState, useContext, useEffect } from \"react\";\r\nimport \"./Home.css\";\r\n// import AuthContext from \"../context/auth/authContext\";\r\nimport axios from \"axios\";\r\nimport Employee from \"./Employee\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nconst Home = (props) => {\r\n  function myFunc1() {\r\n    var x = document.getElementById(\"pass\");\r\n\r\n    var y = document.getElementById(\"show\");\r\n    if (x.type === \"password\") {\r\n      y.className = \"fa-eye fas img\";\r\n      x.type = \"text\";\r\n    } else {\r\n      y.className = \"fa-eye-slash fas img\";\r\n      x.type = \"password\";\r\n    }\r\n  }\r\n  function myFunc2() {\r\n    var x = document.getElementById(\"pass1\");\r\n\r\n    var y = document.getElementById(\"show1\");\r\n    if (x.type === \"password\") {\r\n      y.className = \"fa-eye fas img\";\r\n      x.type = \"text\";\r\n    } else {\r\n      y.className = \"fa-eye-slash fas img\";\r\n      x.type = \"password\";\r\n    }\r\n  }\r\n\r\n  // const authContext = useContext(AuthContext);\r\n\r\n  // const { login, isAuthenticated, error, isadmin, employeLogin } = authContext;\r\n\r\n  // useEffect(() => {\r\n  //   //console.log(isAuthenticated, isadmin);\r\n  //   if (isAuthenticated && isadmin) {\r\n  //     props.history.push(\"/admin\");\r\n  //   } else if (isAuthenticated && !isadmin) {\r\n  //     props.history.push(\"/employee\");\r\n  //   } else {\r\n  //     //console.log(\"nul\");\r\n  //     props.history.push(\"/\");\r\n  //   }\r\n  // }, [isAuthenticated, props.history, isadmin]);\r\n\r\n  // const initialState = {\r\n  //   email: \"\",\r\n  //   password: \"\",\r\n  // };\r\n\r\n  // const [user, setUser] = useState(initialState);\r\n\r\n  // const [employe, setEmploye] = useState(initialState);\r\n\r\n  // const { email, password } = user;\r\n\r\n  // const changeHandler = (e) => {\r\n  //   setUser({ ...user, [e.target.name]: e.target.value });\r\n  // };\r\n\r\n  // const employeChangeHandler = (e) => {\r\n  //   setEmploye({ ...employe, [e.target.name]: e.target.value });\r\n  // };\r\n\r\n  // const adminSubmitHandler = (e) => {\r\n  //   e.preventDefault();\r\n  //   //console.log(user);\r\n  //   login(user);\r\n  //   setUser(initialState);\r\n  // };\r\n\r\n  // const submitHandler = (e) => {\r\n  //   e.preventDefault();\r\n  //   employeLogin(employe);\r\n  //   setEmploye(initialState);\r\n  // };\r\n  const [employee, setEmployee] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    error: \"\",\r\n    loading: false,\r\n    didRedirect: false,\r\n    success: false,\r\n  });\r\n  const [employee2, setEmployee2] = useState({\r\n    email2: \"\",\r\n    password2: \"\",\r\n    error2: \"\",\r\n    loading2: false,\r\n    didRedirect2: false,\r\n    success2: false,\r\n  });\r\n  const { email, password, error, loading, didRedirect } = employee;\r\n  const { email2, password2, error2, loading2, didRedirect2 } = employee2;\r\n  const changeHandler = (e) => {\r\n    setEmployee({ ...employee, [e.target.name]: e.target.value });\r\n  };\r\n  const changeHandler2 = (event) => {\r\n    setEmployee2({ ...employee2, [event.target.name]:event.target.value });\r\n  };\r\n\r\n  const elogin = async (user_data) => {\r\n    return fetch(\"http://localhost:5000/api/users/login\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(user_data),\r\n    })\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const authenticate = (data) => {\r\n    if (typeof window !== \"undefined\") {\r\n      localStorage.setItem(\"token\", JSON.stringify(data));\r\n      setEmployee({\r\n        ...employee,\r\n        didRedirect: true,\r\n      });\r\n    }\r\n  };\r\n\r\n  const authenticate2 = (data) => {\r\n    //console.log(data)\r\n    if (typeof window !== \"undefined\") {\r\n      localStorage.setItem(\"token2\", JSON.stringify(data));\r\n      setEmployee2({\r\n        ...employee2,\r\n        didRedirect2: true,\r\n      });\r\n    }\r\n  };\r\n\r\n  const isAuthenticated_true = () => {\r\n    if (typeof window === \"undefined\") {\r\n      return false;\r\n    }\r\n    if (localStorage.getItem(\"token\")||localStorage.getItem(\"token2\")) {\r\n      if(localStorage.getItem(\"token\")){\r\n        return JSON.parse(localStorage.getItem(\"token\"))\r\n      }\r\n      return JSON.parse(localStorage.getItem(\"token2\"));\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const adminSubmitHandler = (e) => {\r\n    e.preventDefault();\r\n    setEmployee({ ...employee, error: false, loading: true });\r\n    const adminDetails = { email, password };\r\n    //console.log(adminDetails)\r\n    //  const indata =  elogin(adminDetails)\r\n    // console.log(indata)\r\n    elogin(adminDetails)\r\n      .then((data) => {\r\n        if (data.msg) {\r\n          setEmployee({\r\n            ...employee,\r\n            error: data.msg,\r\n            loading: false,\r\n          });\r\n          //console.log(employee);\r\n        } else {\r\n          const admin_and_token = {\r\n            isadmin: data.isadmin,\r\n            token: data.token,\r\n            userId:data._id,\r\n            username:data.username\r\n          };\r\n          //console.log(admin_and_token);\r\n          if(data.isadmin)\r\n          authenticate(admin_and_token);\r\n          else{\r\n            setEmployee({\r\n              ...employee,\r\n              error:\"You are not an admin\",\r\n              loading:false\r\n            })\r\n          }\r\n        }\r\n        //console.log(employee);\r\n      })\r\n      .catch(() => console.log(\"Login failed\"));\r\n\r\n      setEmployee({\r\n        email: \"\",\r\n        password: \"\",\r\n        error: \"\",\r\n        loading: false,\r\n        didRedirect: false,\r\n        success: false,\r\n      })\r\n  };\r\n\r\n  const employeSubmitHandler = (e) => {\r\n    e.preventDefault();\r\n    setEmployee2({ ...employee2, error2: false, loading2: true });\r\n    const employeDetails = { email:email2, password:password2 };\r\n   // console.log(employee2)\r\n    //  const indata =  elogin(adminDetails)\r\n    // console.log(indata)\r\n    elogin(employeDetails)\r\n      .then((data) => {\r\n        if (data.msg) {\r\n          setEmployee2({\r\n            ...employee2,\r\n            error2: data.msg,\r\n            loading2: false,\r\n          });\r\n          //console.log(employee);\r\n        } else {\r\n          const admin_and_token = {\r\n            isadmin: data.isadmin,\r\n            token: data.token,\r\n            userId:data._id,\r\n            username:data.username\r\n          };\r\n         // console.log(admin_and_token);\r\n           if(!data.isadmin)\r\n          authenticate2(admin_and_token);\r\n          else{\r\n            setEmployee2({\r\n              ...employee2,\r\n              error2:\"You are not an employee\",\r\n              loading2:false\r\n            })\r\n          }\r\n        }\r\n        //console.log(employee);\r\n      })\r\n      .catch(() => console.log(\"Login failed\"));\r\n\r\n      setEmployee2({\r\n        email2: \"\",\r\n        password2: \"\",\r\n        error2: \"\",\r\n        loading2: false,\r\n        didRedirect2: false,\r\n        success2: false,\r\n      })\r\n  };\r\n\r\n  const performRedirect = () => {\r\n    if (didRedirect) {\r\n      //console.log(employee);\r\n      const bool = isAuthenticated_true();\r\n      // console.log(bool);\r\n      if (bool && bool.isadmin) {\r\n        props.history.push(\"/admin\");\r\n      } else {\r\n        props.history.push(\"/employee\");\r\n      }\r\n    }\r\n  };\r\n  const performRedirect2 = () => {\r\n    if (didRedirect2) {\r\n      //console.log(employee);\r\n      const bool = isAuthenticated_true();\r\n      // console.log(bool);\r\n      if (bool && bool.isadmin) {\r\n        props.history.push(\"/admin\");\r\n      } else {\r\n        props.history.push(\"/employee\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const errorMessage = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div\r\n          className=\"alert alert-danger\"\r\n          style={{ display: error ? \"\" : \"none\" }}\r\n        >\r\n          {error}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const errorMessage2 = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div\r\n          className=\"alert alert-danger\"\r\n          style={{ display: error2 ? \"\" : \"none\" }}\r\n        >\r\n          {error2}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-container\">\r\n      <div className=\"container\">\r\n        <div className=\"row\"> \r\n          <div className=\"col-12 col-md-6 mt-5\">\r\n            <div\r\n              className=\"card shadow text-center p-4\"\r\n              style={{\r\n                opacity: \"0.9\",\r\n                backgroundColor: \"#1E97B1\",\r\n                maxWidth: \"400px\",\r\n                margin: \"100px auto\",\r\n              }}\r\n            >\r\n              {errorMessage()}\r\n              <h3 className=\"mb-5 main_heading\">Admin Login</h3>\r\n              <form onSubmit={adminSubmitHandler}>\r\n                <div className=\"form-group mb-4\">\r\n                  <input\r\n                    type=\"email\"\r\n                    name=\"email\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Email\"\r\n                    value={email}\r\n                    onChange={changeHandler}\r\n                  />\r\n                </div>\r\n                <div className=\"form-group div2\">\r\n                  <i\r\n                    className=\"fa-eye-slash fas img\"\r\n                    id=\"show\"\r\n                    onClick={myFunc1}\r\n                    style={{ cursor: \"pointer\" }}\r\n                  ></i>\r\n                  <input\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Password\"\r\n                    id=\"pass\"\r\n                    value={password}\r\n                    onChange={changeHandler}\r\n                  />\r\n                </div>\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"btn btn-block btn-success mt-5 w-100 opac\"\r\n                >\r\n                  Login\r\n                </button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-12 col-md-6 mt-5\">\r\n            <div\r\n              className=\"card shadow text-center p-4\"\r\n              style={{\r\n                opacity: \"0.9\",\r\n                backgroundColor: \"#294b71 \",\r\n                maxWidth: \"400px\",\r\n                margin: \"100px auto\",\r\n              }}\r\n            >\r\n              {errorMessage2()}\r\n              <h3 className=\"mb-5 main_heading\">Employee Login</h3>\r\n              <form onSubmit={employeSubmitHandler}>\r\n                <div className=\"form-group mb-4\">\r\n                  <input\r\n                    type=\"email\"\r\n                    name=\"email2\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Email\"\r\n                    onChange={changeHandler2}\r\n                    value={email2}\r\n                  />\r\n                </div>\r\n                <div className=\"form-group div2\">\r\n                  <i\r\n                    className=\"fa-eye-slash fas img\"\r\n                    id=\"show1\"\r\n                    onClick={myFunc2}\r\n                    style={{ cursor: \"pointer\" }}\r\n                  ></i>\r\n                  <input\r\n                    type=\"password\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Password\"\r\n                    id=\"pass1\"\r\n                    name=\"password2\"\r\n                    onChange={changeHandler2}\r\n                    value={password2}\r\n                  />\r\n                </div>\r\n                <button\r\n                  className=\"btn btn-block btn-success mt-5 w-100\"\r\n                  type=\"submit\"\r\n                  style={{ opacity: \"1\" }}\r\n                >\r\n                  Login\r\n                </button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {performRedirect()}\r\n      {performRedirect2()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","C:\\Users\\HP\\Desktop\\stack_hack_2.O\\frontend\\src\\components\\Admin.js",["114","115","116","117","118","119","120"],"import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Link, Redirect, withRouter } from \"react-router-dom\";\r\nimport { isadmin_true } from \"../authHelpers\";\r\nimport AuthContext from \"../context/auth/authContext\";\r\nimport Spinner from \"./Spinner\";\r\nimport \"./Admin.css\"\r\n\r\nconst Admin = (props) => {\r\n  const authContext = useContext(AuthContext);\r\n \r\n\r\n  const { loaduser, isAuthenticated } = authContext;\r\n  const [employees,setEmployees]=useState({error:\"\",all:null,loading:false});\r\n\r\n  const getAllEmployees = () =>{\r\n    let token = JSON.parse(localStorage.token).token;\r\n    return fetch(\"http://localhost:5000/api/admin/all\",{\r\n      method:\"GET\",\r\n      headers:{\r\n        \"Authorization\":token\r\n      }\r\n    }).then((res)=>{\r\n      return res.json()\r\n    }).catch((err)=>{\r\n      console.log(err)\r\n    })\r\n  }\r\n\r\n\r\n  const getEmployeeFullDetails = (id) =>{\r\n    let token = JSON.parse(localStorage.getItem(\"token\")).token;\r\n    return fetch(`http://localhost:5000/api/admin/${id}`,{\r\n      method:\"GET\",\r\n      headers:{\r\n        \"Authorization\":token\r\n      }\r\n    }).then((res)=>{\r\n      return res.json()\r\n    }).catch((err)=>{\r\n      console.log(err)\r\n    })\r\n  }\r\n\r\n  const getEmploye =(id)=>{\r\n    //console.log(id)\r\n    getEmployeeFullDetails(id).then((data)=>{\r\n     // console.log(data)\r\n      if(data.err){\r\n        setEmployees({\r\n          ...employees,\r\n          error:data.err\r\n        })\r\n      }else{\r\n        props.history.push(\"/getEmployee\",data)\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n\r\n \r\n  useEffect(() => {\r\n    // loaduser();\r\n    getAllEmployees().then((data)=>{\r\n      // console.log(data)\r\n      if(data.err){\r\n       setEmployees({\r\n        ...employees,\r\n        loading:true,\r\n        error:data.err,\r\n       }       \r\n       )\r\n      }\r\n      else{\r\n       setEmployees({\r\n         ...employees,\r\n         loading:true,\r\n         all:data\r\n       }) \r\n      }\r\n    }).catch((err)=>{\r\n      console.log(err)\r\n    })\r\n    \r\n  }, [employees.loading]);\r\n\r\n  \r\n\r\n\r\n\r\n  return (\r\n    <div className=\"container\" style={{ marginTop: \"20px\" }}>\r\n      {/* <table className=\"table\">\r\n        <thead className=\"thead table-dark\">\r\n          <tr>\r\n            <th scope=\"col\">Employee Id</th>\r\n            <th scope=\"col\">Username</th>\r\n            <th scope=\"col\">Email</th>\r\n            <th scope=\"col\">Preview</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>    \r\n        {employees.all && employees.loading ? (\r\n          employees.all.map((emp) => (\r\n            <tr key={emp._id}>\r\n              <th scope=\"row\">{emp.employeid}</th>\r\n              <td>{emp.username}</td>\r\n              <td>{emp.email}</td>\r\n              <td>\r\n                <button className=\"btn btn-info\" onClick={()=>{getEmploye(emp._id)}}>View</button>\r\n              </td>\r\n            </tr>\r\n          ))\r\n        ):(\r\n          <Spinner />\r\n        )\r\n        }\r\n        </tbody>\r\n      </table> */}\r\n      <div className=\"row\">\r\n        {employees.all && employees.loading ? (\r\n            employees.all.map((emp) => (\r\n              <div key={emp._id} className=\"col-12 col-md-4 col-lg-3\">\r\n                  <div className=\"card text-center shadow m-2 p-2 bg-danger text-white\" >\r\n                    <div className=\"col-12\">\r\n                      <img src={emp.photo} style={{borderRadius:\"50%\",height:\"100px\",width:\"100px\"}} />\r\n                    </div>\r\n                    <div className=\"col-12 mt-3\">\r\n                      {emp.employeid}\r\n                    </div>\r\n                    <div className=\"col-12\">\r\n                      {emp.department}\r\n                    </div>\r\n                    <div className=\"col-12\">\r\n                      {emp.worktype}\r\n                    </div>\r\n                    <button className=\"btn btn-info emp_btn\" onClick={()=>{getEmploye(emp._id)}}>View</button>\r\n                  </div>\r\n              </div>\r\n            ))\r\n          ):(\r\n            <Spinner />\r\n          )\r\n          }\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(Admin);\r\n","C:\\Users\\HP\\Desktop\\stack_hack_2.O\\frontend\\src\\context\\auth\\AuthState.js",["121","122","123","124"],"import React, { useReducer } from \"react\";\r\nimport AuthContext from \"./authContext.js\";\r\nimport axios from \"axios\";\r\nimport setAuthToken from \"../../utils/setAuthToken\";\r\nimport authReducer from \"./authReducer.js\";\r\nimport {\r\n  REGISTER_SUCCESS,\r\n  REGISTER_FAIL,\r\n  LOGIN_SUCCESS,\r\n  LOGIN_FAIL,\r\n  LOGOUT,\r\n  AUTH_ERROR,\r\n  CLEAR_ERRORS,\r\n  USER_LOADED,\r\n} from \"../types\";\r\n\r\nconst url = \"http://localhost:5000\";\r\n\r\nconst AuthState = (props) => {\r\n  const initialState = {\r\n    isAuthenticated: null,\r\n    loading: false,\r\n    user: null,\r\n    error: null,\r\n    isadmin: null,\r\n    token: localStorage.getItem(\"token\"),\r\n  };\r\n\r\n  const [state, dispatch] = useReducer(authReducer, initialState);\r\n\r\n  const loaduser = async () => {\r\n    if (localStorage.token) {\r\n      setAuthToken(localStorage.token);\r\n    }\r\n\r\n    try {\r\n      const res = await axios.get(url + \"/api/users/profile\");\r\n      dispatch({\r\n        type: USER_LOADED,\r\n        payload: res.data,\r\n      });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: AUTH_ERROR,\r\n      });\r\n    }\r\n  };\r\n\r\n  const login = async (formData) => {\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n\r\n    try {\r\n      const res = await axios.post(url + \"/api/users/login\", formData, config);\r\n      //res.data.isadmin=true;\r\n      if (res.data.isadmin) {\r\n        dispatch({\r\n          type: LOGIN_SUCCESS,\r\n          payload: res.data,\r\n        });\r\n        //console\r\n        loaduser();\r\n      } else alert(\"You are not an Admin\");\r\n    } catch (err) {\r\n      dispatch({\r\n        type: LOGIN_FAIL,\r\n        payload: err.response.data.msg,\r\n      });\r\n    }\r\n  };\r\n\r\n  const employeLogin = async (formData) => {\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n\r\n    try {\r\n      const res = await axios.post(url + \"/api/users/login\", formData, config);\r\n      //res.data.isadmin=false;\r\n      //console.log(res.data.isadmin);\r\n      if (!res.data.isadmin) {\r\n        dispatch({\r\n          type: LOGIN_SUCCESS,\r\n          payload: res.data,\r\n        });\r\n        loaduser();\r\n      } else alert(\"You are not an Employee\");\r\n    } catch (err) {\r\n      dispatch({\r\n        type: LOGIN_FAIL,\r\n        payload: err.response.data.msg,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{\r\n        token: state.token,\r\n        isAuthenticated: state.isAuthenticated,\r\n        loading: state.loading,\r\n        user: state.user,\r\n        error: state.error,\r\n        isadmin: state.isadmin,\r\n        login,\r\n        employeLogin,\r\n        loaduser,\r\n      }}\r\n    >\r\n      {props.children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport default AuthState;\r\n","C:\\Users\\HP\\Desktop\\stack_hack_2.O\\frontend\\src\\context\\auth\\authContext.js",[],"C:\\Users\\HP\\Desktop\\stack_hack_2.O\\frontend\\src\\context\\auth\\authReducer.js",["125","126","127","128"],"import React from \"react\";\r\nimport {\r\n  REGISTER_SUCCESS,\r\n  REGISTER_FAIL,\r\n  LOGIN_SUCCESS,\r\n  LOGIN_FAIL,\r\n  LOGOUT,\r\n  AUTH_ERROR,\r\n  CLEAR_ERRORS,\r\n  USER_LOADED,\r\n} from \"../types\";\r\n\r\nconst authReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case LOGIN_SUCCESS:\r\n      localStorage.setItem(\"token\", action.payload.token);\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n        isAuthenticated: true,\r\n        loading: true,\r\n        isadmin: action.payload.isadmin,\r\n      };\r\n\r\n    case AUTH_ERROR:\r\n    case LOGOUT:\r\n    case LOGIN_FAIL:\r\n      localStorage.removeItem(\"token\");\r\n      return {\r\n        ...state,\r\n        token: null,\r\n        isAuthenticated: false,\r\n        error: action.payload,\r\n        loading: true,\r\n        user: null,\r\n      };\r\n    case USER_LOADED:\r\n      return {\r\n        ...state,\r\n        isAuthenticated: true,\r\n        loading: true,\r\n        user: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","C:\\Users\\HP\\Desktop\\stack_hack_2.O\\frontend\\src\\context\\types.js",[],"C:\\Users\\HP\\Desktop\\stack_hack_2.O\\frontend\\src\\components\\PrivateRoute.js",["129","130"],"import React, { useContext } from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport {isAuthenticated_true} from \"../authHelpers/index\"\r\nimport AuthContext from \"../context/auth/authContext\";\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n  const authContext = useContext(AuthContext);\r\n\r\n  const { isAuthenticated, loading } = authContext;\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) => {\r\n        //console.log(isAuthenticated, loading);\r\n\r\n        return !isAuthenticated_true() ? (\r\n          <Redirect to=\"/\" />\r\n        ) : (\r\n          // <Redirect to={{\r\n          //   pathname:\"/\",\r\n          //   state:{from:props.location}\r\n          // }} />\r\n          <Component {...props} />\r\n        );\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","C:\\Users\\HP\\Desktop\\stack_hack_2.O\\frontend\\src\\authHelpers\\index.js",[],"C:\\Users\\HP\\Desktop\\stack_hack_2.O\\frontend\\src\\components\\AdminPrivateRoute.js",["131","132","133"],"import React, { useContext } from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport AuthContext from \"../context/auth/authContext\";\r\nimport {isadmin_true,isAuthenticated_true} from \"../authHelpers/index\"\r\n\r\nconst AdminPrivateRoute = ({ component: Component, ...rest }) => {\r\n  const authContext = useContext(AuthContext);\r\n\r\n  const { isAuthenticated, loading, isadmin } = authContext;\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) => {\r\n        //console.log(isAuthenticated, loading);\r\n\r\n        return (!isAuthenticated_true())? (\r\n          <Redirect to=\"/\" />\r\n        ) :!isadmin_true()?(\r\n          <Redirect to=\"/employee\" />\r\n        ): (\r\n          <Component {...props} />\r\n        );\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default AdminPrivateRoute;\r\n","C:\\Users\\HP\\Desktop\\stack_hack_2.O\\frontend\\src\\components\\Spinner.js",[],"C:\\Users\\HP\\Desktop\\stack_hack_2.O\\frontend\\src\\components\\GetEmployee.js",[],"C:\\Users\\HP\\Desktop\\stack_hack_2.O\\frontend\\src\\components\\AddLeave.js",[],"C:\\Users\\HP\\Desktop\\stack_hack_2.O\\frontend\\src\\components\\MyLeaves.js",["134"],"import React, { useEffect, useState } from 'react'\r\n\r\nconst MyLeaves = () => {\r\n\r\n    const [myLeaves,setMyLeaves] = useState({loading:false,error:\"\",leaves:null});\r\n   \r\n\r\n    const getMyLeaves = () =>{\r\n        let token = JSON.parse(localStorage.getItem(\"token2\")).token;\r\n        return fetch(\"http://localhost:5000/api/leave/my_leaves\",{\r\n            method:\"GET\",\r\n            headers:{\r\n                \"Authorization\":token\r\n            }\r\n        }).then((res)=>{\r\n            return res.json()\r\n        }).catch((err)=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    useEffect(()=>{\r\n        getMyLeaves().then((data)=>{\r\n            if(data.err){\r\n                setMyLeaves({\r\n                    ...myLeaves,\r\n                    loading:true,\r\n                    error:data.err\r\n                })\r\n            }else{\r\n                setMyLeaves({\r\n                    ...myLeaves,\r\n                    loading:true,\r\n                    leaves:data\r\n                })\r\n            }\r\n        }).catch((err)=>{\r\n            console.log(err)\r\n        })\r\n    },[myLeaves.loading])\r\n\r\n    return (\r\n        <div className=\"container mt-4 mb-4\">\r\n            <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                    <h1>My Leaves</h1>\r\n                    <p>\r\n                        Note: Orange-Pending, Green-Approved, Red-Rejected\r\n                    </p>\r\n                    {\r\n                        (myLeaves.leaves&&myLeaves.loading)?(\r\n                            myLeaves.leaves.map((leave)=>(\r\n                               <div className=\"card shadow p-3 mb-3\">\r\n                                   <div className=\"container\">\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col-12 col-md-3\">\r\n                                                <h4>{leave.leavetype}</h4>\r\n                                            </div>\r\n                                            <div className=\"col-12 col-md-6\">\r\n                                                <h4>{leave.fromdate} to {leave.todate}</h4>\r\n                                            </div>\r\n                                            <div className=\"col-12 d-flex flex-row col-md-3\">\r\n                                                <div style={{border:\"2px solid #000\",width:\"30px\",height:\"30px\",borderRadius:\"50%\",marginRight:\"20px\",backgroundColor:leave.approvedstatus===0?\"orange\":\"\"}}>\r\n\r\n                                                 </div>   \r\n                                                <div style={{border:\"2px solid #000\",width:\"30px\",height:\"30px\",borderRadius:\"50%\",marginRight:\"20px\",backgroundColor:leave.approvedstatus===1?\"green\":\"\"}}>\r\n\r\n                                                 </div>   \r\n                                                <div style={{border:\"2px solid #000\",width:\"30px\",height:\"30px\",borderRadius:\"50%\",backgroundColor:leave.approvedstatus===2?\"red\":\"\"}}>\r\n\r\n                                                 </div>   \r\n                                            </div>\r\n\r\n                                        </div>    \r\n                                    </div>\r\n                                   \r\n                                </div>\r\n                            ))\r\n                            \r\n                        ):(\r\n                            <p>Loading..</p>\r\n                        )\r\n                    }\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MyLeaves\r\n","C:\\Users\\HP\\Desktop\\stack_hack_2.O\\frontend\\src\\components\\PendingLeaves.js",["135","136","137"],"C:\\Users\\HP\\Desktop\\stack_hack_2.O\\frontend\\src\\components\\GetLeave.js",[],{"ruleId":"138","replacedBy":"139"},{"ruleId":"140","replacedBy":"141"},{"ruleId":"142","severity":1,"message":"143","line":6,"column":25,"nodeType":"144","messageId":"145","endLine":6,"endColumn":33},{"ruleId":"142","severity":1,"message":"146","line":7,"column":8,"nodeType":"144","messageId":"145","endLine":7,"endColumn":20},{"ruleId":"142","severity":1,"message":"147","line":12,"column":10,"nodeType":"144","messageId":"145","endLine":12,"endColumn":22},{"ruleId":"142","severity":1,"message":"148","line":1,"column":17,"nodeType":"144","messageId":"145","endLine":1,"endColumn":26},{"ruleId":"142","severity":1,"message":"149","line":7,"column":11,"nodeType":"144","messageId":"145","endLine":7,"endColumn":19},{"ruleId":"142","severity":1,"message":"150","line":7,"column":21,"nodeType":"144","messageId":"145","endLine":7,"endColumn":36},{"ruleId":"142","severity":1,"message":"151","line":22,"column":10,"nodeType":"144","messageId":"145","endLine":22,"endColumn":15},{"ruleId":"152","severity":1,"message":"153","line":129,"column":6,"nodeType":"154","endLine":129,"endColumn":8,"suggestions":"155"},{"ruleId":"142","severity":1,"message":"156","line":1,"column":27,"nodeType":"144","messageId":"145","endLine":1,"endColumn":37},{"ruleId":"142","severity":1,"message":"148","line":1,"column":39,"nodeType":"144","messageId":"145","endLine":1,"endColumn":48},{"ruleId":"142","severity":1,"message":"157","line":4,"column":8,"nodeType":"144","messageId":"145","endLine":4,"endColumn":13},{"ruleId":"142","severity":1,"message":"158","line":5,"column":8,"nodeType":"144","messageId":"145","endLine":5,"endColumn":16},{"ruleId":"142","severity":1,"message":"143","line":6,"column":10,"nodeType":"144","messageId":"145","endLine":6,"endColumn":18},{"ruleId":"142","severity":1,"message":"159","line":97,"column":35,"nodeType":"144","messageId":"145","endLine":97,"endColumn":42},{"ruleId":"142","severity":1,"message":"160","line":98,"column":38,"nodeType":"144","messageId":"145","endLine":98,"endColumn":46},{"ruleId":"142","severity":1,"message":"161","line":2,"column":10,"nodeType":"144","messageId":"145","endLine":2,"endColumn":14},{"ruleId":"142","severity":1,"message":"143","line":2,"column":16,"nodeType":"144","messageId":"145","endLine":2,"endColumn":24},{"ruleId":"142","severity":1,"message":"147","line":3,"column":10,"nodeType":"144","messageId":"145","endLine":3,"endColumn":22},{"ruleId":"142","severity":1,"message":"149","line":12,"column":11,"nodeType":"144","messageId":"145","endLine":12,"endColumn":19},{"ruleId":"142","severity":1,"message":"150","line":12,"column":21,"nodeType":"144","messageId":"145","endLine":12,"endColumn":36},{"ruleId":"152","severity":1,"message":"162","line":85,"column":6,"nodeType":"154","endLine":85,"endColumn":25,"suggestions":"163"},{"ruleId":"164","severity":1,"message":"165","line":126,"column":23,"nodeType":"166","endLine":126,"endColumn":104},{"ruleId":"142","severity":1,"message":"167","line":7,"column":3,"nodeType":"144","messageId":"145","endLine":7,"endColumn":19},{"ruleId":"142","severity":1,"message":"168","line":8,"column":3,"nodeType":"144","messageId":"145","endLine":8,"endColumn":16},{"ruleId":"142","severity":1,"message":"169","line":11,"column":3,"nodeType":"144","messageId":"145","endLine":11,"endColumn":9},{"ruleId":"142","severity":1,"message":"170","line":13,"column":3,"nodeType":"144","messageId":"145","endLine":13,"endColumn":15},{"ruleId":"142","severity":1,"message":"171","line":1,"column":8,"nodeType":"144","messageId":"145","endLine":1,"endColumn":13},{"ruleId":"142","severity":1,"message":"167","line":3,"column":3,"nodeType":"144","messageId":"145","endLine":3,"endColumn":19},{"ruleId":"142","severity":1,"message":"168","line":4,"column":3,"nodeType":"144","messageId":"145","endLine":4,"endColumn":16},{"ruleId":"142","severity":1,"message":"170","line":9,"column":3,"nodeType":"144","messageId":"145","endLine":9,"endColumn":15},{"ruleId":"142","severity":1,"message":"150","line":9,"column":11,"nodeType":"144","messageId":"145","endLine":9,"endColumn":26},{"ruleId":"142","severity":1,"message":"159","line":9,"column":28,"nodeType":"144","messageId":"145","endLine":9,"endColumn":35},{"ruleId":"142","severity":1,"message":"150","line":9,"column":11,"nodeType":"144","messageId":"145","endLine":9,"endColumn":26},{"ruleId":"142","severity":1,"message":"159","line":9,"column":28,"nodeType":"144","messageId":"145","endLine":9,"endColumn":35},{"ruleId":"142","severity":1,"message":"172","line":9,"column":37,"nodeType":"144","messageId":"145","endLine":9,"endColumn":44},{"ruleId":"152","severity":1,"message":"173","line":40,"column":7,"nodeType":"154","endLine":40,"endColumn":25,"suggestions":"174"},{"ruleId":"142","severity":1,"message":"151","line":15,"column":21,"nodeType":"144","messageId":"145","endLine":15,"endColumn":26},{"ruleId":"142","severity":1,"message":"175","line":15,"column":35,"nodeType":"144","messageId":"145","endLine":15,"endColumn":40},{"ruleId":"152","severity":1,"message":"176","line":51,"column":7,"nodeType":"154","endLine":51,"endColumn":16,"suggestions":"177"},"no-native-reassign",["178"],"no-negated-in-lhs",["179"],"no-unused-vars","'Redirect' is defined but never used.","Identifier","unusedVar","'setAuthToken' is defined but never used.","'isadmin_true' is defined but never used.","'useEffect' is defined but never used.","'loaduser' is assigned a value but never used.","'isAuthenticated' is assigned a value but never used.","'error' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'employee' and 'userId'. Either include them or remove the dependency array. You can also do a functional update 'setEmployee(e => ...)' if you only need 'employee' in the 'setEmployee' call.","ArrayExpression",["180"],"'useContext' is defined but never used.","'axios' is defined but never used.","'Employee' is defined but never used.","'loading' is assigned a value but never used.","'loading2' is assigned a value but never used.","'Link' is defined but never used.","React Hook useEffect has a missing dependency: 'employees'. Either include it or remove the dependency array. You can also do a functional update 'setEmployees(e => ...)' if you only need 'employees' in the 'setEmployees' call.",["181"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'REGISTER_SUCCESS' is defined but never used.","'REGISTER_FAIL' is defined but never used.","'LOGOUT' is defined but never used.","'CLEAR_ERRORS' is defined but never used.","'React' is defined but never used.","'isadmin' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'myLeaves'. Either include it or remove the dependency array. You can also do a functional update 'setMyLeaves(m => ...)' if you only need 'myLeaves' in the 'setMyLeaves' call.",["182"],"'modal' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'pending'. Either include it or remove the dependency array. You can also do a functional update 'setPending(p => ...)' if you only need 'pending' in the 'setPending' call.",["183"],"no-global-assign","no-unsafe-negation",{"desc":"184","fix":"185"},{"desc":"186","fix":"187"},{"desc":"188","fix":"189"},{"desc":"190","fix":"191"},"Update the dependencies array to be: [employee, userId]",{"range":"192","text":"193"},"Update the dependencies array to be: [employees, employees.loading]",{"range":"194","text":"195"},"Update the dependencies array to be: [myLeaves, myLeaves.loading]",{"range":"196","text":"197"},"Update the dependencies array to be: [loading, pending]",{"range":"198","text":"199"},[3227,3229],"[employee, userId]",[1975,1994],"[employees, employees.loading]",[1088,1106],"[myLeaves, myLeaves.loading]",[1408,1417],"[loading, pending]"]